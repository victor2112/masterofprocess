<body>

    <app-menu></app-menu>
    <div class="contenido">

        <p></p>
        <mat-card class="process">
            <div class="headers">
                <mat-card-title>

                    <a (click)="irA('processes')" class="link">Processes</a> >> <a (click)="irA('instances')" class="link">Instances</a> >> Forms

                </mat-card-title>
                <span>
                    <a mat-button (click)="irA('trackChanges')" ><mat-icon>track_changes</mat-icon></a>
                </span>
            </div>
            <br>
            <div class="login-wrapper">
                <mat-card class="box">
                    <mat-card-header>
                        <mat-card-title>{{processName}}</mat-card-title>
                    </mat-card-header>
                    <hr class="solid">
                    <form [formGroup]="forms">
                        <div *ngFor="let value of values" class="fila">
                            <div class="nameValue"><b>{{value.nombre}}:</b></div>


                            <input type="{{value.tipo}}" formControlName="{{value.nombre}}" class="fieldValue" *ngIf="value.tipo === 'text'" value="{{value.valor}}">
                            <input type="{{value.tipo}}" formControlName="{{value.nombre}}" class="fieldValue" *ngIf="value.tipo === 'number'" value="{{value.valor}}">
                            <input type="{{value.tipo}}" formControlName="{{value.nombre}}" class="fieldValueDate" *ngIf="value.tipo === 'date'" value="{{value.valor}}">



                            <select class="fieldName" *ngIf="value.tipo === 'list'" formControlName="{{value.nombre}}" class="fieldValueList">
                                <ng-container *ngFor="let list of lists">
                                    <ng-container *ngFor="let valueList of list.values">
                            
                                        <option [ngValue]="valueList.name" *ngIf="list.idList === value.idLista" >{{valueList.name}}</option>
                        
                                    </ng-container>
                                </ng-container>
                            </select>

                            <input type="text" formControlName="{{value.nombre}}" class="fieldValue" *ngIf="value.tipo === 'external'" value="{{value.valor}}">


                        </div>
                        <div>
                            <br>
                        </div>
                        <div class="fila">
                            <div class="nameValue"><b>Enviar a:</b></div>
                            <select class="fieldName" formControlName="estado" class="fieldValueList">
                                <ng-container *ngFor="let transition of transitions">
                                        <option [ngValue]="transition.idDestiny">{{transition.destiny}}</option>
                                </ng-container>
                            </select>



                        </div>
                        <br>
                        <div class="button-pos"> <button class="button" mat-stroked-button color="primary" type="submit" (click)="save()"> save </button> </div>
                    </form>
                </mat-card>
            </div>
        </mat-card>
    </div>
</body>